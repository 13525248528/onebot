(window.webpackJsonp=window.webpackJsonp||[]).push([[34],{387:function(_,v,t){"use strict";t.r(v);var d=t(25),e=Object(d.a)({},(function(){var _=this,v=_.$createElement,t=_._self._c||v;return t("ContentSlotsDistributor",{attrs:{"slot-key":_.$parent.slotKey}},[t("h1",{attrs:{id:"消息事件"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#消息事件"}},[_._v("#")]),_._v(" 消息事件")]),_._v(" "),t("h2",{attrs:{id:"私聊消息"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#私聊消息"}},[_._v("#")]),_._v(" 私聊消息")]),_._v(" "),t("h3",{attrs:{id:"事件数据"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#事件数据"}},[_._v("#")]),_._v(" 事件数据")]),_._v(" "),t("table",[t("thead",[t("tr",[t("th",[_._v("字段名")]),_._v(" "),t("th",[_._v("数据类型")]),_._v(" "),t("th",[_._v("可能的值")]),_._v(" "),t("th",[_._v("说明")])])]),_._v(" "),t("tbody",[t("tr",[t("td",[t("code",[_._v("time")])]),_._v(" "),t("td",[_._v("number (int64)")]),_._v(" "),t("td",[_._v("-")]),_._v(" "),t("td",[_._v("事件发生的时间戳")])]),_._v(" "),t("tr",[t("td",[t("code",[_._v("self_id")])]),_._v(" "),t("td",[_._v("number (int64)")]),_._v(" "),t("td",[_._v("-")]),_._v(" "),t("td",[_._v("收到事件的机器人 QQ 号")])]),_._v(" "),t("tr",[t("td",[t("code",[_._v("post_type")])]),_._v(" "),t("td",[_._v("string")]),_._v(" "),t("td",[t("code",[_._v("message")])]),_._v(" "),t("td",[_._v("上报类型")])]),_._v(" "),t("tr",[t("td",[t("code",[_._v("message_type")])]),_._v(" "),t("td",[_._v("string")]),_._v(" "),t("td",[t("code",[_._v("private")])]),_._v(" "),t("td",[_._v("消息类型")])]),_._v(" "),t("tr",[t("td",[t("code",[_._v("sub_type")])]),_._v(" "),t("td",[_._v("string")]),_._v(" "),t("td",[t("code",[_._v("friend")]),_._v("、"),t("code",[_._v("group")]),_._v("、"),t("code",[_._v("discuss")]),_._v("、"),t("code",[_._v("other")])]),_._v(" "),t("td",[_._v("消息子类型，如果是好友则是 "),t("code",[_._v("friend")]),_._v("，如果从群或讨论组来的临时会话则分别是 "),t("code",[_._v("group")]),_._v("、"),t("code",[_._v("discuss")])])]),_._v(" "),t("tr",[t("td",[t("code",[_._v("message_id")])]),_._v(" "),t("td",[_._v("number (int32)")]),_._v(" "),t("td",[_._v("-")]),_._v(" "),t("td",[_._v("消息 ID")])]),_._v(" "),t("tr",[t("td",[t("code",[_._v("user_id")])]),_._v(" "),t("td",[_._v("number (int64)")]),_._v(" "),t("td",[_._v("-")]),_._v(" "),t("td",[_._v("发送者 QQ 号")])]),_._v(" "),t("tr",[t("td",[t("code",[_._v("message")])]),_._v(" "),t("td",[_._v("message")]),_._v(" "),t("td",[_._v("-")]),_._v(" "),t("td",[_._v("消息内容")])]),_._v(" "),t("tr",[t("td",[t("code",[_._v("raw_message")])]),_._v(" "),t("td",[_._v("string")]),_._v(" "),t("td",[_._v("-")]),_._v(" "),t("td",[_._v("原始消息内容")])]),_._v(" "),t("tr",[t("td",[t("code",[_._v("font")])]),_._v(" "),t("td",[_._v("number (int32)")]),_._v(" "),t("td",[_._v("-")]),_._v(" "),t("td",[_._v("字体")])]),_._v(" "),t("tr",[t("td",[t("code",[_._v("sender")])]),_._v(" "),t("td",[_._v("object")]),_._v(" "),t("td",[_._v("-")]),_._v(" "),t("td",[_._v("发送人信息")])])])]),_._v(" "),t("p",[_._v("其中 "),t("code",[_._v("sender")]),_._v(" 字段的内容如下：")]),_._v(" "),t("table",[t("thead",[t("tr",[t("th",[_._v("字段名")]),_._v(" "),t("th",[_._v("数据类型")]),_._v(" "),t("th",[_._v("说明")])])]),_._v(" "),t("tbody",[t("tr",[t("td",[t("code",[_._v("user_id")])]),_._v(" "),t("td",[_._v("number (int64)")]),_._v(" "),t("td",[_._v("发送者 QQ 号")])]),_._v(" "),t("tr",[t("td",[t("code",[_._v("nickname")])]),_._v(" "),t("td",[_._v("string")]),_._v(" "),t("td",[_._v("昵称")])]),_._v(" "),t("tr",[t("td",[t("code",[_._v("sex")])]),_._v(" "),t("td",[_._v("string")]),_._v(" "),t("td",[_._v("性别，"),t("code",[_._v("male")]),_._v(" 或 "),t("code",[_._v("female")]),_._v(" 或 "),t("code",[_._v("unknown")])])]),_._v(" "),t("tr",[t("td",[t("code",[_._v("age")])]),_._v(" "),t("td",[_._v("number (int32)")]),_._v(" "),t("td",[_._v("年龄")])])])]),_._v(" "),t("p",[_._v("需要注意的是，"),t("code",[_._v("sender")]),_._v(" 中的各字段是尽最大努力提供的，也就是说，不保证每个字段都一定存在，也不保证存在的字段都是完全正确的（缓存可能过期）。")]),_._v(" "),t("h3",{attrs:{id:"快速操作"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#快速操作"}},[_._v("#")]),_._v(" 快速操作")]),_._v(" "),t("table",[t("thead",[t("tr",[t("th",[_._v("字段名")]),_._v(" "),t("th",[_._v("数据类型")]),_._v(" "),t("th",[_._v("说明")]),_._v(" "),t("th",[_._v("默认情况")])])]),_._v(" "),t("tbody",[t("tr",[t("td",[t("code",[_._v("reply")])]),_._v(" "),t("td",[_._v("message")]),_._v(" "),t("td",[_._v("要回复的内容")]),_._v(" "),t("td",[_._v("不回复")])]),_._v(" "),t("tr",[t("td",[t("code",[_._v("auto_escape")])]),_._v(" "),t("td",[_._v("boolean")]),_._v(" "),t("td",[_._v("消息内容是否作为纯文本发送（即不解析 CQ 码），只在 "),t("code",[_._v("reply")]),_._v(" 字段是字符串时有效")]),_._v(" "),t("td",[_._v("不转义")])])])]),_._v(" "),t("h2",{attrs:{id:"群消息"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#群消息"}},[_._v("#")]),_._v(" 群消息")]),_._v(" "),t("h3",{attrs:{id:"事件数据-2"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#事件数据-2"}},[_._v("#")]),_._v(" 事件数据")]),_._v(" "),t("table",[t("thead",[t("tr",[t("th",[_._v("字段名")]),_._v(" "),t("th",[_._v("数据类型")]),_._v(" "),t("th",[_._v("可能的值")]),_._v(" "),t("th",[_._v("说明")])])]),_._v(" "),t("tbody",[t("tr",[t("td",[t("code",[_._v("time")])]),_._v(" "),t("td",[_._v("number (int64)")]),_._v(" "),t("td",[_._v("-")]),_._v(" "),t("td",[_._v("事件发生的时间戳")])]),_._v(" "),t("tr",[t("td",[t("code",[_._v("self_id")])]),_._v(" "),t("td",[_._v("number (int64)")]),_._v(" "),t("td",[_._v("-")]),_._v(" "),t("td",[_._v("收到事件的机器人 QQ 号")])]),_._v(" "),t("tr",[t("td",[t("code",[_._v("post_type")])]),_._v(" "),t("td",[_._v("string")]),_._v(" "),t("td",[t("code",[_._v("message")])]),_._v(" "),t("td",[_._v("上报类型")])]),_._v(" "),t("tr",[t("td",[t("code",[_._v("message_type")])]),_._v(" "),t("td",[_._v("string")]),_._v(" "),t("td",[t("code",[_._v("group")])]),_._v(" "),t("td",[_._v("消息类型")])]),_._v(" "),t("tr",[t("td",[t("code",[_._v("sub_type")])]),_._v(" "),t("td",[_._v("string")]),_._v(" "),t("td",[t("code",[_._v("normal")]),_._v("、"),t("code",[_._v("anonymous")]),_._v("、"),t("code",[_._v("notice")])]),_._v(" "),t("td",[_._v("消息子类型，正常消息是 "),t("code",[_._v("normal")]),_._v("，匿名消息是 "),t("code",[_._v("anonymous")]),_._v("，系统提示（如「管理员已禁止群内匿名聊天」）是 "),t("code",[_._v("notice")])])]),_._v(" "),t("tr",[t("td",[t("code",[_._v("message_id")])]),_._v(" "),t("td",[_._v("number (int32)")]),_._v(" "),t("td",[_._v("-")]),_._v(" "),t("td",[_._v("消息 ID")])]),_._v(" "),t("tr",[t("td",[t("code",[_._v("group_id")])]),_._v(" "),t("td",[_._v("number (int64)")]),_._v(" "),t("td",[_._v("-")]),_._v(" "),t("td",[_._v("群号")])]),_._v(" "),t("tr",[t("td",[t("code",[_._v("user_id")])]),_._v(" "),t("td",[_._v("number (int64)")]),_._v(" "),t("td",[_._v("-")]),_._v(" "),t("td",[_._v("发送者 QQ 号")])]),_._v(" "),t("tr",[t("td",[t("code",[_._v("anonymous")])]),_._v(" "),t("td",[_._v("object")]),_._v(" "),t("td",[_._v("-")]),_._v(" "),t("td",[_._v("匿名信息，如果不是匿名消息则为 null")])]),_._v(" "),t("tr",[t("td",[t("code",[_._v("message")])]),_._v(" "),t("td",[_._v("message")]),_._v(" "),t("td",[_._v("-")]),_._v(" "),t("td",[_._v("消息内容")])]),_._v(" "),t("tr",[t("td",[t("code",[_._v("raw_message")])]),_._v(" "),t("td",[_._v("string")]),_._v(" "),t("td",[_._v("-")]),_._v(" "),t("td",[_._v("原始消息内容")])]),_._v(" "),t("tr",[t("td",[t("code",[_._v("font")])]),_._v(" "),t("td",[_._v("number (int32)")]),_._v(" "),t("td",[_._v("-")]),_._v(" "),t("td",[_._v("字体")])]),_._v(" "),t("tr",[t("td",[t("code",[_._v("sender")])]),_._v(" "),t("td",[_._v("object")]),_._v(" "),t("td",[_._v("-")]),_._v(" "),t("td",[_._v("发送人信息")])])])]),_._v(" "),t("p",[_._v("其中 "),t("code",[_._v("anonymous")]),_._v(" 字段的内容如下：")]),_._v(" "),t("table",[t("thead",[t("tr",[t("th",[_._v("字段名")]),_._v(" "),t("th",[_._v("数据类型")]),_._v(" "),t("th",[_._v("说明")])])]),_._v(" "),t("tbody",[t("tr",[t("td",[t("code",[_._v("id")])]),_._v(" "),t("td",[_._v("number (int64)")]),_._v(" "),t("td",[_._v("匿名用户 ID")])]),_._v(" "),t("tr",[t("td",[t("code",[_._v("name")])]),_._v(" "),t("td",[_._v("string")]),_._v(" "),t("td",[_._v("匿名用户名称")])]),_._v(" "),t("tr",[t("td",[t("code",[_._v("flag")])]),_._v(" "),t("td",[_._v("string")]),_._v(" "),t("td",[_._v("匿名用户 flag，在调用禁言 API 时需要传入")])])])]),_._v(" "),t("p",[t("code",[_._v("sender")]),_._v(" 字段的内容如下：")]),_._v(" "),t("table",[t("thead",[t("tr",[t("th",[_._v("字段名")]),_._v(" "),t("th",[_._v("数据类型")]),_._v(" "),t("th",[_._v("说明")])])]),_._v(" "),t("tbody",[t("tr",[t("td",[t("code",[_._v("user_id")])]),_._v(" "),t("td",[_._v("number (int64)")]),_._v(" "),t("td",[_._v("发送者 QQ 号")])]),_._v(" "),t("tr",[t("td",[t("code",[_._v("nickname")])]),_._v(" "),t("td",[_._v("string")]),_._v(" "),t("td",[_._v("昵称")])]),_._v(" "),t("tr",[t("td",[t("code",[_._v("card")])]),_._v(" "),t("td",[_._v("string")]),_._v(" "),t("td",[_._v("群名片／备注")])]),_._v(" "),t("tr",[t("td",[t("code",[_._v("sex")])]),_._v(" "),t("td",[_._v("string")]),_._v(" "),t("td",[_._v("性别，"),t("code",[_._v("male")]),_._v(" 或 "),t("code",[_._v("female")]),_._v(" 或 "),t("code",[_._v("unknown")])])]),_._v(" "),t("tr",[t("td",[t("code",[_._v("age")])]),_._v(" "),t("td",[_._v("number (int32)")]),_._v(" "),t("td",[_._v("年龄")])]),_._v(" "),t("tr",[t("td",[t("code",[_._v("area")])]),_._v(" "),t("td",[_._v("string")]),_._v(" "),t("td",[_._v("地区")])]),_._v(" "),t("tr",[t("td",[t("code",[_._v("level")])]),_._v(" "),t("td",[_._v("string")]),_._v(" "),t("td",[_._v("成员等级")])]),_._v(" "),t("tr",[t("td",[t("code",[_._v("role")])]),_._v(" "),t("td",[_._v("string")]),_._v(" "),t("td",[_._v("角色，"),t("code",[_._v("owner")]),_._v(" 或 "),t("code",[_._v("admin")]),_._v(" 或 "),t("code",[_._v("member")])])]),_._v(" "),t("tr",[t("td",[t("code",[_._v("title")])]),_._v(" "),t("td",[_._v("string")]),_._v(" "),t("td",[_._v("专属头衔")])])])]),_._v(" "),t("p",[_._v("需要注意的是，"),t("code",[_._v("sender")]),_._v(" 中的各字段是尽最大努力提供的，也就是说，不保证每个字段都一定存在，也不保证存在的字段都是完全正确的（缓存可能过期）。尤其对于匿名消息，此字段不具有参考价值。")]),_._v(" "),t("h3",{attrs:{id:"快速操作-2"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#快速操作-2"}},[_._v("#")]),_._v(" 快速操作")]),_._v(" "),t("table",[t("thead",[t("tr",[t("th",[_._v("字段名")]),_._v(" "),t("th",[_._v("数据类型")]),_._v(" "),t("th",[_._v("说明")]),_._v(" "),t("th",[_._v("默认情况")])])]),_._v(" "),t("tbody",[t("tr",[t("td",[t("code",[_._v("reply")])]),_._v(" "),t("td",[_._v("message")]),_._v(" "),t("td",[_._v("要回复的内容")]),_._v(" "),t("td",[_._v("不回复")])]),_._v(" "),t("tr",[t("td",[t("code",[_._v("auto_escape")])]),_._v(" "),t("td",[_._v("boolean")]),_._v(" "),t("td",[_._v("消息内容是否作为纯文本发送（即不解析 CQ 码），只在 "),t("code",[_._v("reply")]),_._v(" 字段是字符串时有效")]),_._v(" "),t("td",[_._v("不转义")])]),_._v(" "),t("tr",[t("td",[t("code",[_._v("at_sender")])]),_._v(" "),t("td",[_._v("boolean")]),_._v(" "),t("td",[_._v("是否要在回复开头 at 发送者（自动添加），发送者是匿名用户时无效")]),_._v(" "),t("td",[_._v("at 发送者")])]),_._v(" "),t("tr",[t("td",[t("code",[_._v("delete")])]),_._v(" "),t("td",[_._v("boolean")]),_._v(" "),t("td",[_._v("撤回该条消息")]),_._v(" "),t("td",[_._v("不撤回")])]),_._v(" "),t("tr",[t("td",[t("code",[_._v("kick")])]),_._v(" "),t("td",[_._v("boolean")]),_._v(" "),t("td",[_._v("把发送者踢出群组（需要登录号权限足够），"),t("strong",[_._v("不拒绝")]),_._v("此人后续加群请求，发送者是匿名用户时无效")]),_._v(" "),t("td",[_._v("不踢")])]),_._v(" "),t("tr",[t("td",[t("code",[_._v("ban")])]),_._v(" "),t("td",[_._v("boolean")]),_._v(" "),t("td",[_._v("把发送者禁言 "),t("code",[_._v("ban_duration")]),_._v(" 指定时长，对匿名用户也有效")]),_._v(" "),t("td",[_._v("不禁言")])]),_._v(" "),t("tr",[t("td",[t("code",[_._v("ban_duration")])]),_._v(" "),t("td",[_._v("number")]),_._v(" "),t("td",[_._v("禁言时长")]),_._v(" "),t("td",[_._v("30 分钟")])])])]),_._v(" "),t("h2",{attrs:{id:"讨论组消息"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#讨论组消息"}},[_._v("#")]),_._v(" 讨论组消息")]),_._v(" "),t("h3",{attrs:{id:"事件数据-3"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#事件数据-3"}},[_._v("#")]),_._v(" 事件数据")]),_._v(" "),t("table",[t("thead",[t("tr",[t("th",[_._v("字段名")]),_._v(" "),t("th",[_._v("数据类型")]),_._v(" "),t("th",[_._v("可能的值")]),_._v(" "),t("th",[_._v("说明")])])]),_._v(" "),t("tbody",[t("tr",[t("td",[t("code",[_._v("time")])]),_._v(" "),t("td",[_._v("number (int64)")]),_._v(" "),t("td",[_._v("-")]),_._v(" "),t("td",[_._v("事件发生的时间戳")])]),_._v(" "),t("tr",[t("td",[t("code",[_._v("self_id")])]),_._v(" "),t("td",[_._v("number (int64)")]),_._v(" "),t("td",[_._v("-")]),_._v(" "),t("td",[_._v("收到事件的机器人 QQ 号")])]),_._v(" "),t("tr",[t("td",[t("code",[_._v("post_type")])]),_._v(" "),t("td",[_._v("string")]),_._v(" "),t("td",[t("code",[_._v("message")])]),_._v(" "),t("td",[_._v("上报类型")])]),_._v(" "),t("tr",[t("td",[t("code",[_._v("message_type")])]),_._v(" "),t("td",[_._v("string")]),_._v(" "),t("td",[t("code",[_._v("discuss")])]),_._v(" "),t("td",[_._v("消息类型")])]),_._v(" "),t("tr",[t("td",[t("code",[_._v("message_id")])]),_._v(" "),t("td",[_._v("number (int32)")]),_._v(" "),t("td",[_._v("-")]),_._v(" "),t("td",[_._v("消息 ID")])]),_._v(" "),t("tr",[t("td",[t("code",[_._v("discuss_id")])]),_._v(" "),t("td",[_._v("number (int64)")]),_._v(" "),t("td",[_._v("-")]),_._v(" "),t("td",[_._v("讨论组 ID")])]),_._v(" "),t("tr",[t("td",[t("code",[_._v("user_id")])]),_._v(" "),t("td",[_._v("number (int64)")]),_._v(" "),t("td",[_._v("-")]),_._v(" "),t("td",[_._v("发送者 QQ 号")])]),_._v(" "),t("tr",[t("td",[t("code",[_._v("message")])]),_._v(" "),t("td",[_._v("message")]),_._v(" "),t("td",[_._v("-")]),_._v(" "),t("td",[_._v("消息内容")])]),_._v(" "),t("tr",[t("td",[t("code",[_._v("raw_message")])]),_._v(" "),t("td",[_._v("string")]),_._v(" "),t("td",[_._v("-")]),_._v(" "),t("td",[_._v("原始消息内容")])]),_._v(" "),t("tr",[t("td",[t("code",[_._v("font")])]),_._v(" "),t("td",[_._v("number (int32)")]),_._v(" "),t("td",[_._v("-")]),_._v(" "),t("td",[_._v("字体")])]),_._v(" "),t("tr",[t("td",[t("code",[_._v("sender")])]),_._v(" "),t("td",[_._v("object")]),_._v(" "),t("td",[_._v("-")]),_._v(" "),t("td",[_._v("发送人信息")])])])]),_._v(" "),t("p",[_._v("其中 "),t("code",[_._v("sender")]),_._v(" 字段的内容如下：")]),_._v(" "),t("table",[t("thead",[t("tr",[t("th",[_._v("字段名")]),_._v(" "),t("th",[_._v("数据类型")]),_._v(" "),t("th",[_._v("说明")])])]),_._v(" "),t("tbody",[t("tr",[t("td",[t("code",[_._v("user_id")])]),_._v(" "),t("td",[_._v("number (int64)")]),_._v(" "),t("td",[_._v("发送者 QQ 号")])]),_._v(" "),t("tr",[t("td",[t("code",[_._v("nickname")])]),_._v(" "),t("td",[_._v("string")]),_._v(" "),t("td",[_._v("昵称")])]),_._v(" "),t("tr",[t("td",[t("code",[_._v("sex")])]),_._v(" "),t("td",[_._v("string")]),_._v(" "),t("td",[_._v("性别，"),t("code",[_._v("male")]),_._v(" 或 "),t("code",[_._v("female")]),_._v(" 或 "),t("code",[_._v("unknown")])])]),_._v(" "),t("tr",[t("td",[t("code",[_._v("age")])]),_._v(" "),t("td",[_._v("number (int32)")]),_._v(" "),t("td",[_._v("年龄")])])])]),_._v(" "),t("h3",{attrs:{id:"快速操作-3"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#快速操作-3"}},[_._v("#")]),_._v(" 快速操作")]),_._v(" "),t("table",[t("thead",[t("tr",[t("th",[_._v("字段名")]),_._v(" "),t("th",[_._v("数据类型")]),_._v(" "),t("th",[_._v("说明")]),_._v(" "),t("th",[_._v("默认情况")])])]),_._v(" "),t("tbody",[t("tr",[t("td",[t("code",[_._v("reply")])]),_._v(" "),t("td",[_._v("message")]),_._v(" "),t("td",[_._v("要回复的内容")]),_._v(" "),t("td",[_._v("不回复")])]),_._v(" "),t("tr",[t("td",[t("code",[_._v("auto_escape")])]),_._v(" "),t("td",[_._v("boolean")]),_._v(" "),t("td",[_._v("消息内容是否作为纯文本发送（即不解析 CQ 码），只在 "),t("code",[_._v("reply")]),_._v(" 字段是字符串时有效")]),_._v(" "),t("td",[_._v("不转义")])]),_._v(" "),t("tr",[t("td",[t("code",[_._v("at_sender")])]),_._v(" "),t("td",[_._v("boolean")]),_._v(" "),t("td",[_._v("是否要在回复开头 at 发送者（自动添加）")]),_._v(" "),t("td",[_._v("at 发送者")])])])])])}),[],!1,null,null,null);v.default=e.exports}}]);