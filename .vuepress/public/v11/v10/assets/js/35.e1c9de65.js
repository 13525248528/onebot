(window.webpackJsonp=window.webpackJsonp||[]).push([[35],{389:function(t,_,v){"use strict";v.r(_);var e=v(25),d=Object(e.a)({},(function(){var t=this,_=t.$createElement,v=t._self._c||_;return v("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[v("h1",{attrs:{id:"元事件"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#元事件"}},[t._v("#")]),t._v(" 元事件")]),t._v(" "),v("p",[t._v("消息、通知、请求三大类事件是与聊天软件直接相关的、机器人真实接收到的事件，除了这些，CQHTTP 自己还会产生一类事件，这里称之为「元事件」，例如生命周期事件、心跳事件等，这类事件与 CQHTTP 本身的运行状态有关，而与聊天软件无关。元事件的上报方式和普通事件完全一样。")]),t._v(" "),v("h2",{attrs:{id:"生命周期"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#生命周期"}},[t._v("#")]),t._v(" 生命周期")]),t._v(" "),v("table",[v("thead",[v("tr",[v("th",[t._v("字段名")]),t._v(" "),v("th",[t._v("数据类型")]),t._v(" "),v("th",[t._v("可能的值")]),t._v(" "),v("th",[t._v("说明")])])]),t._v(" "),v("tbody",[v("tr",[v("td",[v("code",[t._v("time")])]),t._v(" "),v("td",[t._v("number (int64)")]),t._v(" "),v("td",[t._v("-")]),t._v(" "),v("td",[t._v("事件发生的时间戳")])]),t._v(" "),v("tr",[v("td",[v("code",[t._v("self_id")])]),t._v(" "),v("td",[t._v("number (int64)")]),t._v(" "),v("td",[t._v("-")]),t._v(" "),v("td",[t._v("收到事件的机器人 QQ 号")])]),t._v(" "),v("tr",[v("td",[v("code",[t._v("post_type")])]),t._v(" "),v("td",[t._v("string")]),t._v(" "),v("td",[v("code",[t._v("meta_event")])]),t._v(" "),v("td",[t._v("上报类型")])]),t._v(" "),v("tr",[v("td",[v("code",[t._v("meta_event_type")])]),t._v(" "),v("td",[t._v("string")]),t._v(" "),v("td",[v("code",[t._v("lifecycle")])]),t._v(" "),v("td",[t._v("元事件类型")])]),t._v(" "),v("tr",[v("td",[v("code",[t._v("sub_type")])]),t._v(" "),v("td",[t._v("string")]),t._v(" "),v("td",[v("code",[t._v("enable")]),t._v("、"),v("code",[t._v("disable")]),t._v("、"),v("code",[t._v("connect")])]),t._v(" "),v("td",[t._v("事件子类型，分别表示 CQHTTP 启用、停用、WebSocket 连接成功")])])])]),t._v(" "),v("p",[v("strong",[t._v("注意，目前生命周期元事件中，只有 HTTP POST 的情况下可以收到 "),v("code",[t._v("enable")]),t._v(" 和 "),v("code",[t._v("disable")]),t._v("，只有正向 WebSocket 和反向 WebSocket 可以收到 "),v("code",[t._v("connect")]),t._v("。")])]),t._v(" "),v("h2",{attrs:{id:"心跳"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#心跳"}},[t._v("#")]),t._v(" 心跳")]),t._v(" "),v("table",[v("thead",[v("tr",[v("th",[t._v("字段名")]),t._v(" "),v("th",[t._v("数据类型")]),t._v(" "),v("th",[t._v("可能的值")]),t._v(" "),v("th",[t._v("说明")])])]),t._v(" "),v("tbody",[v("tr",[v("td",[v("code",[t._v("time")])]),t._v(" "),v("td",[t._v("number (int64)")]),t._v(" "),v("td",[t._v("-")]),t._v(" "),v("td",[t._v("事件发生的时间戳")])]),t._v(" "),v("tr",[v("td",[v("code",[t._v("self_id")])]),t._v(" "),v("td",[t._v("number (int64)")]),t._v(" "),v("td",[t._v("-")]),t._v(" "),v("td",[t._v("收到事件的机器人 QQ 号")])]),t._v(" "),v("tr",[v("td",[v("code",[t._v("post_type")])]),t._v(" "),v("td",[t._v("string")]),t._v(" "),v("td",[v("code",[t._v("meta_event")])]),t._v(" "),v("td",[t._v("上报类型")])]),t._v(" "),v("tr",[v("td",[v("code",[t._v("meta_event_type")])]),t._v(" "),v("td",[t._v("string")]),t._v(" "),v("td",[v("code",[t._v("heartbeat")])]),t._v(" "),v("td",[t._v("元事件类型")])]),t._v(" "),v("tr",[v("td",[v("code",[t._v("status")])]),t._v(" "),v("td",[t._v("object")]),t._v(" "),v("td",[t._v("-")]),t._v(" "),v("td",[t._v("状态信息")])]),t._v(" "),v("tr",[v("td",[v("code",[t._v("interval")])]),t._v(" "),v("td",[t._v("number (int64)")]),t._v(" "),v("td",[t._v("-")]),t._v(" "),v("td",[t._v("到下次心跳的间隔，单位毫秒")])])])]),t._v(" "),v("p",[t._v("其中 "),v("code",[t._v("status")]),t._v(" 字段的内容和 "),v("code",[t._v("get_status")]),t._v(" 接口的快速操作相同。")]),t._v(" "),v("h2",{attrs:{id:"相关配置"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#相关配置"}},[t._v("#")]),t._v(" 相关配置")]),t._v(" "),v("table",[v("thead",[v("tr",[v("th",[t._v("配置项")]),t._v(" "),v("th",[t._v("默认值")]),t._v(" "),v("th",[t._v("说明")])])]),t._v(" "),v("tbody",[v("tr",[v("td",[v("code",[t._v("heartbeat.enable")])]),t._v(" "),v("td",[v("code",[t._v("false")])]),t._v(" "),v("td",[t._v("是否启用心跳机制")])]),t._v(" "),v("tr",[v("td",[v("code",[t._v("heartbeat.interval")])]),t._v(" "),v("td",[v("code",[t._v("15000")])]),t._v(" "),v("td",[t._v("产生心跳元事件的时间间隔，单位毫秒")])])])])])}),[],!1,null,null,null);_.default=d.exports}}]);